<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/BlogLayout}">
<th:block layout:fragment="title">
    <title>블로그 메인</title>
</th:block>
<th:block layout:fragment="add-css">
    <style>
        #intro {
            /* Margin to fix overlapping fixed navbar */
            margin-top: 58px;
        }

        @media (max-width: 991px) {
            #intro {
                /* Margin to fix overlapping fixed navbar */
                margin-top: 45px;
            }
        }
    </style>
</th:block>
<body>


<!--Main Navigation-->

<th:block layout:fragment="content">
    <div class="container">
        <div class="input-group rounded my-3">
            <div class="col-3 me-1">
                <select class="form-select rounded" id="searchType" name="searchType" title="검색 유형 선택">
                    <option value="">전체 검색</option>
                    <option value="title">제목</option>
                    <option value="content">내용</option>
                </select>
            </div>
            <div class="col-8 d-flex">
                <div class="input-group">
                    <div class="form-outline">
                        <input type="search" id="keyword" name="keyword" class="form-control"/>
                        <label class="form-label" for="keyword">Search</label>
                    </div>
                    <button type="button" class="btn btn-primary">
                        <i class="fas fa-search"></i>
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="location.href='/post/list'">
                        <i class="fa fa-undo"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- 글 쓰기 버튼 -->
    <p class="my-1 d-flex flex-row-reverse"><a th:href="@{/post/write}" class="btn btn-outline-info">글쓰기</a></p>
    <section>
        <!-- Post -->
        <div th:if="${posts.isEmpty()}">
            <h3>포스트가 존재하지 않습니다.</h3>
        </div>
        <!-- Post -->
        <div class="row" th:each="post : ${posts}">
            <div class="col-md-4 mb-4">
                <div class="bg-image hover-overlay shadow-1-strong rounded ripple" data-mdb-ripple-color="light">
                    <img th:src="${post.thumbnail == null} ? '/image/default.gif':'/image/'+${post.thumbnail}"
                         class="img-fluid" alt="썸네일"/>
                    <a th:href="@{/post/view(id=${post.id})}">
                        <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
                    </a>
                </div>
            </div>

            <div class="col-md-8 mb-4 d-flex flex-column">
                <h5 th:text="${post.title}">포스트 제목</h5>
                <p th:text="${post.description}" style="font-size: 0.8rem">
                    포스트 설명글
                </p>
                <div class="mt-auto">
                    <a th:href="@{/post/view(id=${post.id})}" class="btn btn-outline-primary">보러 가기</a>
                </div>

            </div>
        </div>
    </section>

    <!-- Pagination -->
    <nav class="my-4" aria-label="...">
        <ul class="pagination pagination-circle justify-content-center">
            <li class="page-item">
                <a class="page-link" href="#" tabindex="-1" aria-disabled="true">이전</a>
            </li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item active" aria-current="page">
                <a class="page-link" href="#">2</a>
            </li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item">
                <a class="page-link" href="#">다음</a>
            </li>
        </ul>
    </nav>
</th:block>
<!--Main layout-->
<th:block layout:fragment="add-javascript">
    <script th:inline="javascript">

    </script>
</th:block>
</body>
</html>